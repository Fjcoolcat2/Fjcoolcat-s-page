<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MistyMc Fun</title>

<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: linear-gradient(to bottom, #000000, #8B0000);
        color: white;
    }

    header {
        padding: 20px;
        text-align: center;
        font-size: 1.8em;
        font-weight: bold;
    }

    .back-home {
        display: block;
        margin: 10px auto 20px;
        padding: 12px 25px;
        width: fit-content;
        text-align: center;
        background: linear-gradient(45deg, #000000, #8B0000);
        color: white;
        text-decoration: none;
        font-weight: bold;
        border-radius: 30px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.6);
    }

    .container {
        padding: 15px;
        max-width: 600px;
        margin: auto;
    }

    .video-card {
        background: rgba(0,0,0,0.6);
        border-radius: 15px;
        padding: 12px;
        margin-bottom: 20px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.7);
    }

    video {
        width: 100%;
        border-radius: 10px;
    }

    .video-actions {
        display: flex;
        justify-content: space-around;
        margin-top: 10px;
    }

    .video-actions button {
        background: #8B0000;
        border: none;
        color: white;
        padding: 8px 18px;
        border-radius: 20px;
        font-weight: bold;
        cursor: pointer;
    }

    .video-actions button.active {
        background: #ff4444;
    }

    .counts {
        font-size: 0.9em;
        margin-top: 5px;
        text-align: center;
    }

    textarea {
        width: 100%;
        margin-top: 10px;
        padding: 8px;
        border-radius: 10px;
        border: none;
        resize: vertical;
    }

    /* CHAT */
    .chat-box {
        background: rgba(0,0,0,0.7);
        border-radius: 15px;
        padding: 10px;
        height: 350px;
        display: flex;
        flex-direction: column;
        margin-bottom: 20px;
    }

    .messages {
        flex: 1;
        overflow-y: auto;
        margin-bottom: 10px;
    }

    .message {
        font-size: 0.95em;
        margin-bottom: 6px;
    }

    .chat-input {
        display: flex;
        gap: 5px;
    }

    input {
        flex: 1;
        padding: 10px;
        border-radius: 20px;
        border: none;
        outline: none;
    }

    .chat-input button {
        background: #8B0000;
        color: white;
        border: none;
        border-radius: 20px;
        padding: 10px 15px;
        font-weight: bold;
    }

    /* BOTTOM BUTTON */
    .bottom-button {
        display: block;
        margin: 15px auto 30px;
        padding: 14px 30px;
        width: fit-content;
        background: linear-gradient(45deg, #00c6ff, #ff4fd8);
        color: white;
        text-decoration: none;
        font-weight: bold;
        border-radius: 30px;
        box-shadow: 0 5px 20px rgba(0,0,0,0.6);
        text-align: center;
    }

    .bottom-button:active {
        opacity: 0.85;
    }
</style>
</head>

<body>

<header>ğŸ”¥ MistyMc Fun ğŸ”¥</header>

<a href="index.html" class="back-home">â¬… Back to Home</a>

<div class="container">

<script>
    function getVote(id) {
        return localStorage.getItem(id + "_vote");
    }

    function setVote(id, vote) {
        if (vote === null) {
            localStorage.removeItem(id + "_vote");
        } else {
            localStorage.setItem(id + "_vote", vote);
        }
    }

    function updateUI(id) {
        const likes = Number(localStorage.getItem(id + "_likes")) || 0;
        const dislikes = Number(localStorage.getItem(id + "_dislikes")) || 0;
        const vote = getVote(id);

        document.getElementById(id + "-likes").textContent = likes;
        document.getElementById(id + "-dislikes").textContent = dislikes;

        document.getElementById(id + "-likeBtn").classList.toggle("active", vote === "like");
        document.getElementById(id + "-dislikeBtn").classList.toggle("active", vote === "dislike");
    }

    function likeVideo(id) {
        let vote = getVote(id);
        let likes = Number(localStorage.getItem(id + "_likes")) || 0;
        let dislikes = Number(localStorage.getItem(id + "_dislikes")) || 0;

        if (vote === "like") {
            likes--;
            setVote(id, null);
        } else {
            if (vote === "dislike") dislikes--;
            likes++;
            setVote(id, "like");
        }

        localStorage.setItem(id + "_likes", likes);
        localStorage.setItem(id + "_dislikes", dislikes);
        updateUI(id);
    }

    function dislikeVideo(id) {
        let vote = getVote(id);
        let likes = Number(localStorage.getItem(id + "_likes")) || 0;
        let dislikes = Number(localStorage.getItem(id + "_dislikes")) || 0;

        if (vote === "dislike") {
            dislikes--;
            setVote(id, null);
        } else {
            if (vote === "like") likes--;
            dislikes++;
            setVote(id, "dislike");
        }

        localStorage.setItem(id + "_likes", likes);
        localStorage.setItem(id + "_dislikes", dislikes);
        updateUI(id);
    }

    function loadAll() {
        for (let i = 1; i <= 5; i++) {
            updateUI("video" + i);
        }
    }
</script>

<!-- VIDEOS -->
<div class="video-card">
    <video controls><source src="video1.mp4"></video>
    <div class="video-actions">
        <button id="video1-likeBtn" onclick="likeVideo('video1')">ğŸ‘ Like</button>
        <button id="video1-dislikeBtn" onclick="dislikeVideo('video1')">ğŸ‘ Dislike</button>
    </div>
    <div class="counts">ğŸ‘ <span id="video1-likes">0</span> | ğŸ‘ <span id="video1-dislikes">0</span></div>
    <textarea placeholder="Video description..."></textarea>
</div>

<div class="video-card">
    <video controls><source src="video2.mp4"></video>
    <div class="video-actions">
        <button id="video2-likeBtn" onclick="likeVideo('video2')">ğŸ‘ Like</button>
        <button id="video2-dislikeBtn" onclick="dislikeVideo('video2')">ğŸ‘ Dislike</button>
    </div>
    <div class="counts">ğŸ‘ <span id="video2-likes">0</span> | ğŸ‘ <span id="video2-dislikes">0</span></div>
    <textarea placeholder="Video description..."></textarea>
</div>

<div class="video-card">
    <video controls><source src="video3.mp4"></video>
    <div class="video-actions">
        <button id="video3-likeBtn" onclick="likeVideo('video3')">ğŸ‘ Like</button>
        <button id="video3-dislikeBtn" onclick="dislikeVideo('video3')">ğŸ‘ Dislike</button>
    </div>
    <div class="counts">ğŸ‘ <span id="video3-likes">0</span> | ğŸ‘ <span id="video3-dislikes">0</span></div>
    <textarea placeholder="Video description..."></textarea>
</div>

<div class="video-card">
    <video controls><source src="video4.mp4"></video>
    <div class="video-actions">
        <button id="video4-likeBtn" onclick="likeVideo('video4')">ğŸ‘ Like</button>
        <button id="video4-dislikeBtn" onclick="dislikeVideo('video4')">ğŸ‘ Dislike</button>
    </div>
    <div class="counts">ğŸ‘ <span id="video4-likes">0</span> | ğŸ‘ <span id="video4-dislikes">0</span></div>
    <textarea placeholder="Video description..."></textarea>
</div>

<div class="video-card">
    <video controls><source src="video5.mp4"></video>
    <div class="video-actions">
        <button id="video5-likeBtn" onclick="likeVideo('video5')">ğŸ‘ Like</button>
        <button id="video5-dislikeBtn" onclick="dislikeVideo('video5')">ğŸ‘ Dislike</button>
    </div>
    <div class="counts">ğŸ‘ <span id="video5-likes">0</span> | ğŸ‘ <span id="video5-dislikes">0</span></div>
    <textarea placeholder="Video description..."></textarea>
</div>

<!-- CHAT -->
<div class="chat-box">
    <div class="messages" id="messages"></div>
    <div class="chat-input">
        <input type="text" id="username" placeholder="Username">
        <input type="text" id="messageInput" placeholder="Message">
        <button onclick="sendMessage()">Send</button>
    </div>
</div>

<!-- BOTTOM BUTTON -->
<a href="mistymcfun.html" class="bottom-button">ğŸ’™âœ¨ Go to MistyMc Fun âœ¨ğŸ’–</a>

</div>

<script>
    const messagesDiv = document.getElementById("messages");

    function loadMessages() {
        const messages = JSON.parse(localStorage.getItem("mistymc_chat")) || [];
        messagesDiv.innerHTML = "";
        messages.forEach(m => {
            const d = document.createElement("div");
            d.className = "message";
            d.textContent = `${m.user}: ${m.text}`;
            messagesDiv.appendChild(d);
        });
        messagesDiv.scrollTop = messagesDiv.scrollHeight;
    }

    function sendMessage() {
        const user = document.getElementById("username").value || "Guest";
        const text = document.getElementById("messageInput").value;
        if (!text.trim()) return;

        const msgs = JSON.parse(localStorage.getItem("mistymc_chat")) || [];
        msgs.push({ user, text });
        localStorage.setItem("mistymc_chat", JSON.stringify(msgs));
        document.getElementById("messageInput").value = "";
        loadMessages();
    }

    loadMessages();
    loadAll();
</script>

</body>
</html>
